<!DOCTYPE html>
<html>
<head>
  <title>Battle Kitty Asset Browser</title>
</head>
<body>
  <h1>Battle Kitty Asset Browser</h1>
  <ul id="file-list"></ul>

  <script>
    const repo = "trollotonicled-arch/Assets";
    const apiURL = `https://api.github.com/repos/${repo}/contents`;

    async function fetchFiles(path = "") {
      try {
        const res = await fetch(`${apiURL}/${path}`);
        const files = await res.json();
        const list = document.getElementById("file-list");

        for (const file of files) {
          const li = document.createElement("li");

          if (file.type === "file") {
            const link = document.createElement("a");
            link.href = file.download_url;
            link.textContent = file.path;
            li.appendChild(link);
            list.appendChild(li);
          } else if (file.type === "dir") {
            li.textContent = `üìÅ ${file.path}`;
            list.appendChild(li);
            await fetchFiles(file.path); // Recursively fetch subfolders
          }
        }
      } catch (err) {
        console.error("Error fetching files:", err);
      }
    }

    fetchFiles(); // Start at root
  </script>
</body>
</html>
